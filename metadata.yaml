file: script.sh
name: restart_dns_pods
description: Restart dns pods in openshift-dns namespace
author: Yuri Diakov
allowedGroups:
  - SREP
  - LPSRE
  - CEE
rbac:
  clusterRoleRules:
    - verbs:
        - "get"
        - "patch"
        - "list"
        - "watch"
        - "create"
        - "delete"
        apiGroups:
        - ""
        resources:
        - "daemonsets.apps"
        - "namespaces"

 #roles:
   #- namespace: "openshift-dns"
    # rules:
      # - verbs:
        # - "get"
        # - "patch"
        # - "list"
        # - "watch"
        # - "create"
        # - "delete"
        # apiGroups:
        # - ""
        # resources:
        # - "pods"
        # - "pods/attach"
      # - verbs:
        # - "get"
        # - "patch"
        # - "list"
        # - "watch"
        # - "create"
        # - "delete"
        # apiGroups:
        # - ""
        # resources:
        # - "daemonsets"
envs:          
  - key: NAMESPACE
    description: The openshift-dns namespace 
    optional: false
language: bash
